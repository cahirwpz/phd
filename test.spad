)boot $PostParseHookEnable := false
)compile SpadEnvironment.spad
)compile SpadTypeChecker.spad
)compile SpadCompilerTest.spad
)boot $PostParseHookEnable := true

)abbrev domain TEST Test
Test() : Exports == Implementation where
  I ==> Integer
  F ==> Float

  Exports ==> with
    foo : I -> I
    foo : F -> F
    foo : (F, F) -> F
    --sum : List(I) -> I

  Implementation ==> add
    --import List(I)

    foo a ==
      a2 := a * a
      ma := - a
      if a >= 0
        then ma
        else a2

    --sum (l : List(I)) : I ==
    --  s := 0
    --  for i in l repeat
    --    s := s + i
    --  s
