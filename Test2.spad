)abbrev domain TEST2 Test2
Test2(A : Type) : Exports == Implementation where
  Exports ==> with
    index : (A -> Boolean, List(A)) -> NonNegativeInteger

  Implementation ==> add
    index(pred, l) ==
      i := 1
      while not empty? l repeat
        if pred(first l) then return i
        i := i + 1
        l := rest l
      0
